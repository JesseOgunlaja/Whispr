{
    "id": "b6cd6bda-9c53-42a9-9012-991d83945fc4",
    "prevId": "00000000-0000-0000-0000-000000000000",
    "version": "7",
    "dialect": "postgresql",
    "tables": {
        "public.messages": {
            "name": "messages",
            "schema": "",
            "columns": {
                "id": {
                    "name": "id",
                    "type": "integer",
                    "primaryKey": true,
                    "notNull": true,
                    "identity": {
                        "type": "byDefault",
                        "name": "messages_id_seq",
                        "schema": "public",
                        "increment": "1",
                        "startWith": "1",
                        "minValue": "1",
                        "maxValue": "2147483647",
                        "cache": "1",
                        "cycle": false
                    }
                },
                "created_at": {
                    "name": "created_at",
                    "type": "timestamp",
                    "primaryKey": false,
                    "notNull": true,
                    "default": "now()"
                },
                "room_id": {
                    "name": "room_id",
                    "type": "text",
                    "primaryKey": false,
                    "notNull": true
                },
                "cipher_text": {
                    "name": "cipher_text",
                    "type": "text",
                    "primaryKey": false,
                    "notNull": true
                },
                "user_id": {
                    "name": "user_id",
                    "type": "text",
                    "primaryKey": false,
                    "notNull": true
                },
                "iv": {
                    "name": "iv",
                    "type": "text",
                    "primaryKey": false,
                    "notNull": true
                }
            },
            "indexes": {},
            "foreignKeys": {
                "messages_room_id_rooms_id_fk": {
                    "name": "messages_room_id_rooms_id_fk",
                    "tableFrom": "messages",
                    "tableTo": "rooms",
                    "columnsFrom": ["room_id"],
                    "columnsTo": ["id"],
                    "onDelete": "cascade",
                    "onUpdate": "no action"
                }
            },
            "compositePrimaryKeys": {},
            "uniqueConstraints": {},
            "policies": {},
            "checkConstraints": {},
            "isRLSEnabled": false
        },
        "public.rooms": {
            "name": "rooms",
            "schema": "",
            "columns": {
                "id": {
                    "name": "id",
                    "type": "text",
                    "primaryKey": true,
                    "notNull": true
                },
                "expired_at": {
                    "name": "expired_at",
                    "type": "timestamp",
                    "primaryKey": false,
                    "notNull": true,
                    "default": "NOW() + INTERVAL '10 minutes'"
                },
                "users": {
                    "name": "users",
                    "type": "jsonb",
                    "primaryKey": false,
                    "notNull": true
                },
                "public_keys": {
                    "name": "public_keys",
                    "type": "json",
                    "primaryKey": false,
                    "notNull": true
                }
            },
            "indexes": {},
            "foreignKeys": {},
            "compositePrimaryKeys": {},
            "uniqueConstraints": {},
            "policies": {},
            "checkConstraints": {
                "rooms_max_users": {
                    "name": "rooms_max_users",
                    "value": "jsonb_array_length(\"rooms\".\"users\") <= 2"
                }
            },
            "isRLSEnabled": false
        }
    },
    "enums": {},
    "schemas": {},
    "sequences": {},
    "roles": {},
    "policies": {},
    "views": {},
    "_meta": {
        "columns": {},
        "schemas": {},
        "tables": {}
    }
}
